# MCP ì„¤ì • ê´€ë¦¬ í˜ì´ì§€ PRD

## ğŸ“‹ ê°œìš”
MCP ì„¤ì • ê´€ë¦¬ í˜ì´ì§€ëŠ” MCP ì„œë²„, ì¹´í…Œê³ ë¦¬, ì„¤ì • íƒ€ê²Ÿì˜ í†µí•© ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ—‚ï¸ ë°ì´í„° êµ¬ì¡°

### 1ï¸âƒ£ MCP ì„œë²„ ë°ì´í„° (MCPServer)
```typescript
interface MCPServer {
  id: string;              // ê³ ìœ  ì‹ë³„ì
  name: string;            // ì„œë²„ ì´ë¦„ (ì˜ˆ: "supabase", "filesystem")
  command: string;         // ì‹¤í–‰ ëª…ë ¹ì–´ (ì˜ˆ: "docker", "npx")
  args: string[];          // ëª…ë ¹ì–´ ì¸ìˆ˜ ë°°ì—´
  description: string;     // ì„œë²„ ì„¤ëª…
  version: number;         // ë²„ì „ ê´€ë¦¬
  delYn: boolean;         // ì‚­ì œ ì—¬ë¶€ (Soft Delete)
  createdAt: Date;        // ìƒì„±ì¼ì‹œ
  updatedAt: Date;        // ìˆ˜ì •ì¼ì‹œ
}
```

**ìƒ˜í”Œ ì„œë²„ ë°ì´í„°:**
- `supabase`: Supabase ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
- `shadcn`: Shadcn UI ì»´í¬ë„ŒíŠ¸ ê´€ë¦¬
- `context7`: ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ ì„œë²„
- `filesystem`: íŒŒì¼ì‹œìŠ¤í…œ ì ‘ê·¼
- `sqlite`: SQLite ë°ì´í„°ë² ì´ìŠ¤

### 2ï¸âƒ£ MCP ì¹´í…Œê³ ë¦¬ ë°ì´í„° (MCPCategory)
```typescript
interface MCPCategory {
  id: string;              // ê³ ìœ  ì‹ë³„ì
  name: string;            // ì¹´í…Œê³ ë¦¬ ì´ë¦„ (ì˜ˆ: "ê°œë°œ", "ë¶„ì„")
  description: string;     // ì¹´í…Œê³ ë¦¬ ì„¤ëª…
  icon: string;           // ì•„ì´ì½˜ ì´ë¦„ (Lucide React)
  target: string;         // ëŒ€ìƒ íƒ€ê²Ÿ ID (claude/cursor/all/custom)
  isActive: boolean;      // í™œì„± ìƒíƒœ
  version: number;        // ë²„ì „ ê´€ë¦¬
  delYn: boolean;         // ì‚­ì œ ì—¬ë¶€
  createdAt: Date;        // ìƒì„±ì¼ì‹œ
  updatedAt: Date;        // ìˆ˜ì •ì¼ì‹œ
}
```

**ì¹´í…Œê³ ë¦¬ ì˜ˆì‹œ:**
- `ê°œë°œ`: ê°œë°œ ê´€ë ¨ MCP ì„œë²„ë“¤ (target: 'all')
- `ë°ì´í„° ë¶„ì„`: ë°ì´í„° ë¶„ì„ìš© ì„œë²„ë“¤ (target: 'claude')
- `UI ì‘ì—…`: UI ê´€ë ¨ ë„êµ¬ë“¤ (target: 'cursor')

### 3ï¸âƒ£ ì„¤ì • íƒ€ê²Ÿ ë°ì´í„° (MCPConfigTarget)
```typescript
interface MCPConfigTarget {
  id: string;              // ê³ ìœ  ì‹ë³„ì (ê³ ì •: 'claude', 'cursor', ë™ì ìƒì„±)
  name: string;     // í‘œì‹œëª… ("Claude Desktop", "Cursor")
  configPath: string;      // ì„¤ì • íŒŒì¼ ê²½ë¡œ
  isBuiltIn: boolean;     // ê¸°ë³¸ ì œê³µ íƒ€ê²Ÿ ì—¬ë¶€
  version: number;        // ë²„ì „ ê´€ë¦¬
  delYn: boolean;         // ì‚­ì œ ì—¬ë¶€
  createdAt: Date;        // ìƒì„±ì¼ì‹œ
  updatedAt: Date;        // ìˆ˜ì •ì¼ì‹œ
}
```

**ê¸°ë³¸ ì„¤ì • íƒ€ê²Ÿ:**
- `claude`: Claude Desktop (id: 'claude')
- `cursor`: Cursor (id: 'cursor')
- ì‚¬ìš©ì ì •ì˜ íƒ€ê²Ÿë“¤ (VS Code, Zed ë“±)

## ğŸ—ï¸ í˜„ì¬ êµ¬í˜„ ìƒíƒœ

### âœ… êµ¬í˜„ ì™„ë£Œ
1. **ConfigTargetManagement**: ì„¤ì • íƒ€ê²Ÿ CRUD ê´€ë¦¬
2. **ConfigPathForm**: ì„¤ì • íŒŒì¼ ê²½ë¡œ ê´€ë¦¬
3. **ë°ì´í„° íƒ€ì… ì •ì˜**: ì™„ì „í•œ TypeScript ì¸í„°í˜ì´ìŠ¤
4. **API ì—°ë™**: Electron IPC í†µì‹ 

### âŒ ë¯¸êµ¬í˜„ (ìš”êµ¬ì‚¬í•­)
1. **MCP ì„œë²„ ë°ì´í„° í‘œì‹œ**: í˜„ì¬ ì„¤ì • ê´€ë¦¬ í˜ì´ì§€ì— ì„œë²„ ëª©ë¡ì´ ì—†ìŒ
2. **ì¹´í…Œê³ ë¦¬ ë°ì´í„° í‘œì‹œ**: ì¹´í…Œê³ ë¦¬ ì •ë³´ ë° í†µê³„ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ
3. **í†µí•© ëŒ€ì‹œë³´ë“œ**: 3ê°œ ë°ì´í„°ì˜ ì—°ê´€ ê´€ê³„ ì‹œê°í™”

## ğŸ“Š ì¶”ê°€ êµ¬í˜„ í•„ìš” ì»´í¬ë„ŒíŠ¸

### 1ï¸âƒ£ MCPServerOverview
```typescript
interface MCPServerOverviewProps {
  servers: MCPServer[];
  onRefresh: () => void;
}
```
- ì „ì²´ MCP ì„œë²„ ëª©ë¡ í‘œì‹œ
- ì„œë²„ë³„ ìƒíƒœ (í™œì„±/ë¹„í™œì„±)
- ê°„ë‹¨í•œ ì„œë²„ ì •ë³´ (ì´ë¦„, ì„¤ëª…, ëª…ë ¹ì–´)

### 2ï¸âƒ£ MCPCategoryOverview  
```typescript
interface MCPCategoryOverviewProps {
  categories: MCPCategory[];
  configTargets: MCPConfigTarget[];
  onRefresh: () => void;
}
```
- ì¹´í…Œê³ ë¦¬ë³„ í†µê³„ (ì„œë²„ ê°œìˆ˜, ëŒ€ìƒ íƒ€ê²Ÿ)
- ì¹´í…Œê³ ë¦¬ë³„ í™œì„± ìƒíƒœ
- íƒ€ê²Ÿë³„ ì¹´í…Œê³ ë¦¬ ë¶„í¬

### 3ï¸âƒ£ MCPDataSummary
```typescript
interface MCPDataSummaryProps {
  serverCount: number;
  categoryCount: number;
  targetCount: number;
  activeCategories: Record<string, string>;
}
```
- ì „ì²´ ë°ì´í„° ìš”ì•½ ì¹´ë“œ
- íƒ€ê²Ÿë³„ í™œì„± ì¹´í…Œê³ ë¦¬ í‘œì‹œ
- ì‹œìŠ¤í…œ ìƒíƒœ ê°œìš”

## ğŸ¯ ê°œì„  ë°©í–¥

### í˜„ì¬ í˜ì´ì§€ êµ¬ì¡°:
```
MCP ì„¤ì • ê´€ë¦¬
â”œâ”€â”€ ConfigTargetManagement (ì„¤ì • íƒ€ê²Ÿ ê´€ë¦¬) âœ…
â””â”€â”€ ConfigPathForm (ê²½ë¡œ ì„¤ì •) âœ…
```

### ì œì•ˆí•˜ëŠ” ìƒˆë¡œìš´ êµ¬ì¡°:
```
MCP ì„¤ì • ê´€ë¦¬
â”œâ”€â”€ MCPDataSummary (ë°ì´í„° ìš”ì•½) ğŸ†•
â”œâ”€â”€ MCPServerOverview (ì„œë²„ ê°œìš”) ğŸ†•  
â”œâ”€â”€ MCPCategoryOverview (ì¹´í…Œê³ ë¦¬ ê°œìš”) ğŸ†•
â”œâ”€â”€ ConfigTargetManagement (ì„¤ì • íƒ€ê²Ÿ ê´€ë¦¬) âœ…
â””â”€â”€ ConfigPathForm (ê²½ë¡œ ì„¤ì •) âœ…
```

## ğŸ”— ë°ì´í„° ì—°ê´€ ê´€ê³„

```
MCPConfigTarget (ì„¤ì • íƒ€ê²Ÿ)
    â†“ (target í•„ë“œë¡œ ì—°ê²°)
MCPCategory (ì¹´í…Œê³ ë¦¬)
    â†“ (CategoryServerRelationìœ¼ë¡œ ì—°ê²°)
MCPServer (ì„œë²„)
```

**ì˜ˆì‹œ ë°ì´í„° í”Œë¡œìš°:**
1. `cursor` íƒ€ê²Ÿ â†’ `ê°œë°œ` ì¹´í…Œê³ ë¦¬ â†’ `[filesystem, sqlite]` ì„œë²„ë“¤
2. `claude` íƒ€ê²Ÿ â†’ `ë¶„ì„` ì¹´í…Œê³ ë¦¬ â†’ `[supabase, context7]` ì„œë²„ë“¤
3. `all` íƒ€ê²Ÿ â†’ ëª¨ë“  ì¹´í…Œê³ ë¦¬ì—ì„œ ì‚¬ìš© ê°€ëŠ¥

## âš ï¸ í•µì‹¬ ë¬¸ì œ: ConfigTargetê³¼ Category ë§¤ì¹­ ì´ìŠˆ

### ğŸ”„ ì‚¬ìš©ì ì›Œí¬í”Œë¡œìš°
```
1. ì‚¬ìš©ìê°€ ConfigTarget ìƒì„± (ì˜ˆ: "VS Code", id: "1757859527672ezqkmvwyi") 
2. Category ìƒì„± ì‹œ target ì„ íƒ
3. âŒ ë¬¸ì œ: Categoryì˜ target í•„ë“œì™€ ConfigTargetì˜ idê°€ ë§¤ì¹­ ì•ˆë¨
```

### ğŸ› í˜„ì¬ ë§¤ì¹­ ë¬¸ì œì 

**ConfigTarget ìƒì„±:**
```typescript
// ì‚¬ìš©ìê°€ "VS Code" íƒ€ê²Ÿ ìƒì„±
{
  id: "1757859527672ezqkmvwyi",    // ë™ì  ìƒì„±ëœ ID
  name: "vscode",          // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì´ë¦„
  configPath: "...",
  isBuiltIn: false
}
```

**Category ìƒì„± ì‹œ ë¬¸ì œ:**
```typescript
// CategoryModalì—ì„œ target ì„ íƒí•  ë•Œ
{
  name: "VS Code ê°œë°œ",
  target: "???"  // ì–´ë–¤ ê°’ì´ ë“¤ì–´ê°€ì•¼ í•˜ëŠ”ê°€?
}
```

### ğŸ”§ ë§¤ì¹­ ë¡œì§ ë¶„ì„

**í˜„ì¬ íŠ¸ë ˆì´ ë©”ë‰´ í•„í„°ë§:**
```javascript
// main.jsì—ì„œ
const targetCategories = categories.filter(cat => 
  cat.target === target.id ||  // ConfigTargetì˜ idì™€ ë¹„êµ
  cat.target === 'all'
);
```

**CategoryModalì—ì„œ íƒ€ê²Ÿ ì„ íƒ:**
```typescript
// CategoryModalì—ì„œ availableTargets ë¡œë“œ
const targets = Object.values(storeData.configTargets || {})
  .filter((target: any) => !target.delYn);
```

### ğŸ’¡ í•´ê²° ë°©ì•ˆ

#### Option 1: Category.targetì— ConfigTarget.id ì§ì ‘ ì €ì¥
```typescript
// Category ìƒì„± ì‹œ
{
  name: "VS Code ê°œë°œ",
  target: "1757859527672ezqkmvwyi"  // ConfigTargetì˜ ì‹¤ì œ ID
}
```

#### Option 2: ConfigTarget.idë¥¼ ê³ ì •/ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ ë³€ê²½
```typescript
// ConfigTarget ìƒì„± ì‹œ name ê¸°ë°˜ ID ìƒì„±
{
  id: "vscode",  // nameì„ ì •ê·œí™”í•œ ID
  name: "vscode"
}
```

### ğŸ¯ ê¶Œì¥ í•´ê²°ì±…: Option 1
- CategoryModalì—ì„œ target ì„ íƒ ì‹œ ConfigTarget.idë¥¼ ì €ì¥
- íŠ¸ë ˆì´ ë©”ë‰´ í•„í„°ë§ì€ í˜„ì¬ ë¡œì§ ìœ ì§€
- ê¸°ì¡´ ë°ì´í„° êµ¬ì¡° ë³€ê²½ ìµœì†Œí™”

## ğŸ’¡ êµ¬í˜„ ìš°ì„ ìˆœìœ„

1. **CRITICAL**: ConfigTarget-Category ë§¤ì¹­ ë¬¸ì œ í•´ê²°
2. **HIGH**: MCPDataSummary - ì „ì²´ í˜„í™© íŒŒì•…
3. **MEDIUM**: MCPServerOverview - ì„œë²„ ìƒíƒœ ê´€ë¦¬
4. **MEDIUM**: MCPCategoryOverview - ì¹´í…Œê³ ë¦¬ ë¶„ì„
5. **LOW**: ê³ ê¸‰ í•„í„°ë§ ë° ê²€ìƒ‰ ê¸°ëŠ¥
